{"ast":null,"code":"import { MongoClient } from 'mongodb';\nconst URL = 'mongodb://127.0.0.1:27017/meetups';\n\nasync function handler(request, response) {\n  if (request.method === 'POST') {\n    const data = request.body;\n    const client = await MongoClient.connect(URL);\n    const db = client.db();\n    const meetupsCollection = db.collection('meetup');\n    const result = await meetupsCollection.insertOne(data);\n    console.log('handler - result: ', result);\n    client.close();\n    response.status(201).json({\n      message: 'New meetup successfully inserted!'\n    });\n  }\n}\n\nexport default handler;","map":{"version":3,"sources":["/Users/christopher/Documents/web/courses/04-react-the-complete-guide/learning-react-v2/meetup-next-js-app/pages/api/new-meetup.js"],"names":["MongoClient","URL","handler","request","response","method","data","body","client","connect","db","meetupsCollection","collection","result","insertOne","console","log","close","status","json","message"],"mappings":"AAAA,SAASA,WAAT,QAA4B,SAA5B;AAEA,MAAMC,GAAG,GAAG,mCAAZ;;AAEA,eAAeC,OAAf,CAAuBC,OAAvB,EAAgCC,QAAhC,EAA0C;AACxC,MAAID,OAAO,CAACE,MAAR,KAAmB,MAAvB,EAA+B;AAC7B,UAAMC,IAAI,GAAGH,OAAO,CAACI,IAArB;AAEA,UAAMC,MAAM,GAAG,MAAMR,WAAW,CAACS,OAAZ,CAAoBR,GAApB,CAArB;AACA,UAAMS,EAAE,GAAGF,MAAM,CAACE,EAAP,EAAX;AACA,UAAMC,iBAAiB,GAAGD,EAAE,CAACE,UAAH,CAAc,QAAd,CAA1B;AAEA,UAAMC,MAAM,GAAG,MAAMF,iBAAiB,CAACG,SAAlB,CAA4BR,IAA5B,CAArB;AAEAS,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCH,MAAlC;AAEAL,IAAAA,MAAM,CAACS,KAAP;AAEAb,IAAAA,QAAQ,CAACc,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAA1B;AACD;AACF;;AAED,eAAelB,OAAf","sourcesContent":["import { MongoClient } from 'mongodb';\n\nconst URL = 'mongodb://127.0.0.1:27017/meetups';\n\nasync function handler(request, response) {\n  if (request.method === 'POST') {\n    const data = request.body;\n\n    const client = await MongoClient.connect(URL);\n    const db = client.db();\n    const meetupsCollection = db.collection('meetup');\n\n    const result = await meetupsCollection.insertOne(data);\n    \n    console.log('handler - result: ', result);\n\n    client.close();\n\n    response.status(201).json({ message: 'New meetup successfully inserted!'});\n  }\n}\n\nexport default handler;\n"]},"metadata":{},"sourceType":"module"}